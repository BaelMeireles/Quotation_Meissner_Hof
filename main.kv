WindowManager:
    LoginScreen:
    SearchScreen:
    ResultScreen:
    SendScreen:
    HistoryScreen:

<LoginScreen>
    name:"login"

    MDTopAppBar:
        title: "Entrar"
        pos_hint:{"center_y": .97}
        elevation: 0
        size_hint: (1, .09)
        left_action_items: [["menu", lambda x: app.call_history()]]

    Image:
        source: "images/logo.png"
        size_hint: (.5, .5)
        pos_hint: {"center_x": .5, "center_y": .78}

    MDLabel:
        text: "Cotações Meissner Hof"
        bold: True
        halign: "center"
        pos_hint: {"center_x": .5, "center_y": .66}

    MDCard:
        orientation: "vertical"
        size_hint: (None, None)
        size: 250, 280
        pos_hint: {"center_x": .5, "center_y": .4}
        padding: 25
        spacing:25
        elevation:3

        MDGridLayout:
            cols: 2
            spacing: 20
            adaptive_height: True

            MDTextFieldRect:
                id: user_number_field
                multiline: False
                halign: "center"
                input_filter: "int"
                hint_text: "Nº"
                size_hint: .3, None
                height: "30dp"

            MDTextFieldRect:
                id: user_name_field
                disabled: True
                multiline: False
                halign: "center"
                hint_text: "Nome"
                size_hint: .7, None
                height: "30dp"

        MDBoxLayout:
            adaptive_height: True
            spacing: 20
            orientation: "vertical"

            MDTextFieldRect:
                id: user_password_field
                password: True
                multiline: False
                halign: "center"
                hint_text: "Senha"
                size_hint: 1, None
                height: "30dp"
                pos_hint: {"center_x": .5, "center_y": .9}

            MDRaisedButton:
                id: login_button
                text: "Entrar"
                text_color: 1,1,1,1
                size_hint: 1, 1
                pos_hint: {"center_x": .5}
                on_release:
                    app.root.transition.direction = "left"
                    app.root.transition.duration = .05
                    app.root.current = "search"

            MDTextButton:
                id: register_user_button
                text: "Cadastrar Usuário"
                color: app.theme_cls.primary_color
                pos_hint: {"center_x": .5}
                on_release: app.register()

            MDLabel:
                id: login_alert
                text: ""
                halign: "center"
                size_hint: 1, None
                height: "30dp"
                pos_hint: {"center_x": .5}

    MDBoxLayout:
        padding: 10

        MDLabel:
            text: "ATENÇÃO! Não use este aplicativo sem receber instruções. O desenvolvedor não se responsabiliza por nenhuma adversidade causada por mal uso alheio.\n\nGabriel Meireles"
            font_size: 11
            halign : "center"
            pos_hint: {"center_x": .5, "center_y": .07}

<SearchScreen>:
    name: "search"

    MDTopAppBar:
        title: "Definir Busca"
        pos_hint:{"center_y": .97}
        size_hint: (1, .09)
        elevation: 0
        left_action_items: [["arrow-left", lambda x: app.call_login()]]

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: 20
        padding: 20

        MDBoxLayout:
            id: search_layout
            orientation: "vertical"
            adaptive_height: True

            MDRaisedButton:
                id: period_confirm_button
                text: "Período"
                text_color: 1,1,1,1
                size_hint: .7, 1
                pos_hint: {"center_x": .5}
                on_release: app.show_date_picker()

            MDDropdownMenu:


        MDRaisedButton:
            id: search_button
            text: "Pesquisar"
            text_color: 1,1,1,1
            size_hint: .5, 1
            pos_hint: {"center_x": .5}
            on_release:
                app.root.transition.direction = "left"
                app.root.current = "result"

<ResultScreen>
    name: "result"

    MDTopAppBar:
        title: "Acomodações"
        pos_hint:{"center_y": .97}
        size_hint: (1, .09)
        elevation: 0
        left_action_items: [["arrow-left", lambda x: app.call_search()]]

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: 20
        padding: 20

        MDBoxLayout:
            id: result_layout
            orientation: "vertical"
            adaptive_height: True

        MDRaisedButton:
            id: confirm_button
            text: "Confirmar"
            text_color: 1,1,1,1
            size_hint: .5, 1
            pos_hint: {"center_x": .5}
            on_release:
                app.root.transition.direction = "left"
                app.root.current = "send"
<SendScreen>:
    name:"send"

    MDTopAppBar:
        title: "Mensagens"
        pos_hint:{"center_y": .97}
        size_hint: (1, .09)
        elevation: 0
        left_action_items: [["arrow-left", lambda x: app.call_result()]]

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: 20
        padding: 20

        MDBoxLayout:
            id: send_layout
            orientation: "vertical"
            adaptive_height: True

        MDRaisedButton:
            id: send_button
            text: "Enviar"
            text_color: 1,1,1,1
            size_hint: .5, 1
            pos_hint: {"center_x": .5}
            on_release:
                app.root.transition.direction = "right"
                app.root.current = "search"

<HistoryScreen>:
    name:"history"

    MDTopAppBar:
        title: "Histórico"
        pos_hint:{"center_y": .97}
        size_hint: (1, .09)
        elevation: 0
        right_action_items: [["arrow-right", lambda x: app.call_login()]]

    MDBoxLayout:
        orientation: "vertical"